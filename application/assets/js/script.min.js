$(document).ready(function(){var n=L.map("map",{zoomControl:!1,dragging:!1,keyboard:!0}).fitWorld();L.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw",{maxZoom:18,attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',id:"mapbox.streets"}).addTo(n);var e={url:"https://nominatim.openstreetmap.org/search?format=json&q={s}",jsonpParam:"json_callback",formatData:function(e){var a,o,t={},n=[];for(var r in e)a=(n=e[r].display_name.split(","))[0]+", "+n[1],o=L.latLng(e[r].lat,e[r].lon),t[a]=o;return t},textPlaceholder:"Search...",autoType:!0,tipAutoSubmit:!0,autoCollapse:!0,collapsed:!1,autoCollapseTime:2e4,delayType:1800,marker:{icon:!0}};n.addControl(new L.Control.Search(e));var r="";n.on("locationfound",function(e){r=L.marker(e.latlng).addTo(n)}),n.on("locationerror",function(e){alert(e.message)}),n.locate({setView:!0,maxZoom:16});var l=.001,s=0,c=0,i=16;$(".leaflet-control-search").css("display","none"),document.addEventListener("keydown",function(e){switch(e.key){case"SoftLeft":n.setZoom(n.getZoom()+1),i=n.getZoom();break;case"SoftRight":n.setZoom(n.getZoom()-1),i=n.getZoom();break;case"Enter":!function(){c=s=0;var e=r.getLatLng(),a=e.lat,o=e.lng;n.panTo(new L.LatLng(a,o))}();break;case"1":!function(){function e(e){r.setLatLng([e.coords.latitude,e.coords.longitude]).update(),n.panTo(new L.LatLng(e.coords.latitude,e.coords.longitude))}navigator.geolocation?navigator.geolocation.getCurrentPosition(e):alert("New Position not found.")}();break;case"2":"none"==$(".leaflet-control-search").css("display")?($(".leaflet-control-search").css("display","block"),$(".leaflet-control-search").find("input").focus()):$(".leaflet-control-search").css("display","none");break;case"ArrowRight":s++;var a=(t=r.getLatLng()).lat+c*l,o=t.lng+s*l;n.panTo(new L.LatLng(a,o));break;case"ArrowLeft":s--,a=(t=r.getLatLng()).lat+c*l,o=t.lng+s*l,n.panTo(new L.LatLng(a,o));break;case"ArrowUp":c++,a=(t=r.getLatLng()).lat+c*l,o=t.lng+s*l,n.panTo(new L.LatLng(a,o));break;case"ArrowDown":var t;c--,a=(t=r.getLatLng()).lat+c*l,o=t.lng+s*l,n.panTo(new L.LatLng(a,o));break;case"#":"none"==$("div#man-page").css("display")?($("div#man-page").css("display","block"),$("div#man-page").find("input").focus()):$("div#man-page").css("display","none")}i<6&&(l=1,document.getElementById("zoom-level").innerHTML=i+l),6<i&&(l=.1,document.getElementById("zoom-level").innerHTML=i+l),12<i&&(l=.001,document.getElementById("zoom-level").innerHTML=i+l)})});